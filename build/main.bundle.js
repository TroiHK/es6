document.getElementById("calcBtn").addEventListener("click",(()=>{let e=document.getElementById("principal").value,t=document.getElementById("years").value,n=document.getElementById("rate").value,{monthlyPayment:l,monthlyRate:a,amortization:m}=((e,t,n)=>{let{monthlyRate:l,monthlyPayment:a}=((e,t,n)=>{let l=0;return n&&(l=n/100/12),{principal:e,years:t,rate:n,monthlyPayment:e*l/(1-Math.pow(1/(1+l),12*t)),monthlyRate:l}})(e,t,n),m=e,o=[];for(let e=0;e<t;e++){let e=0,t=0;for(let n=0;n<12;n++){let n=m*l,o=a-n;e+=n,t+=o,m-=o}o.push({principalY:t,interestY:e,balance:m})}return{monthlyPayment:a,monthlyRate:l,amortization:o}})(e,t,n);document.getElementById("monthlyPayment").innerHTML=l.toFixed(2),document.getElementById("monthlyRate").innerHTML=(100*a).toFixed(2),m.forEach((e=>console.log(e)))}));